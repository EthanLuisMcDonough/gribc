proc thing |...a| {
    proc m |e c m| {
        jjj(e, c, m);
    }
}

proc a |m| {
    @@@
}

proc e { proc f | | {} proc m || {}  }

proc jjj |m e ...w| {
    @ aaaa
    thing(m, e);
    for decl i = 0; i < w.len(); i += 1 {
        a(w[i]);
    }
}